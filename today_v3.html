<!DOCTYPE html>
<html>
<head>
  <title>Today Game</title>
  <style>
    #container {
      position: relative;
      height: 500px;
    }

    .today {
      position: absolute;
      top: 0;
      left: 0;
      font-size: 36px;
      text-transform: uppercase;
      font-family: Helvetica;
      font-weight: bold;
      cursor: pointer;
    }

    .today-yellow {
      color: #FFDE00;
    }

    .today-green {
      color: #72C267;
    }

    .today-red {
      color: #C41230;
    }

    .today-blue {
      color: #256CB5;
    }

    .score {
      height: 20px;
      background-image: linear-gradient(to left, rgba(0,0,0,0), rgba(0,0,0,1));
      color: #fff;
      width: 500px;
      text-align: middle;
      padding: 10px;
      font-size: 20px;
      font-weight: bold;
      font-family: Helvetica;
      
}
    
.celebration {
  position: fixed;
  top: 20%;
  left: 40%;
  transform: translate(-50%, -50%);
  font-size: 2em;
  font-weight: bold;
  text-align: center;
  color: white;
  background-color: rgba(0, 0, 0, 0.8);
  padding: 20px;
  border-radius: 10px;
  z-index: 100;
}

  </style>
</head>
<body>
  Click a TODAY to begin.
  <div id="container"></div>
  <p class="score">Score: <span id="score">0</span> (<span id="remaining">0</span> remaining)</p>
  <script>
// Define the count for each date in an object
var countsByDate = {
"2023-03-21": 48,
"2023-03-22": 47,
"2023-03-23": 46,
"2023-03-24": 45,
"2023-03-25": 44,
"2023-03-26": 44,
"2023-03-27": 44,
"2023-03-28": 43,
"2023-03-29": 42,
"2023-03-30": 41,
"2023-03-31": 40,
"2023-04-01": 39,
"2023-04-02": 39,
"2023-04-03": 39,
"2023-04-04": 39,
"2023-04-05": 39,
"2023-04-06": 39,
"2023-04-07": 39,
"2023-04-08": 39,
"2023-04-09": 39,
"2023-04-10": 39,
"2023-04-11": 38,
"2023-04-12": 37,
"2023-04-13": 36,
"2023-04-14": 35,
"2023-04-15": 34,
"2023-04-16": 34,
"2023-04-17": 34,
"2023-04-18": 33,
"2023-04-19": 32,
"2023-04-20": 31,
"2023-04-21": 30,
"2023-04-22": 29,
"2023-04-23": 29,
"2023-04-24": 29,
"2023-04-25": 28,
"2023-04-26": 27,
"2023-04-27": 26,
"2023-04-28": 25,
"2023-04-29": 24,
"2023-04-30": 23,
"2023-05-01": 24,
"2023-05-02": 23,
"2023-05-03": 22,
"2023-05-04": 21,
"2023-05-05": 20,
"2023-05-06": 19,
"2023-05-07": 19,
"2023-05-08": 19,
"2023-05-09": 18,
"2023-05-10": 17,
"2023-05-11": 16,
"2023-05-12": 15,
"2023-05-13": 14,
"2023-05-14": 14,
"2023-05-15": 14,
"2023-05-16": 13,
"2023-05-17": 12,
"2023-05-18": 11,
"2023-05-19": 10,
"2023-05-20": 9,
"2023-05-21": 9,
"2023-05-22": 9,
"2023-05-23": 8,
"2023-05-24": 7,
"2023-05-25": 6,
"2023-05-26": 5,
"2023-05-27": 4,
"2023-05-28": 4,
"2023-05-29": 4,
"2023-05-30": 4,
"2023-05-31": 3,
"2023-06-01": 2,
"2023-06-02": 1,
};

var container = document.getElementById("container");
var scoreElement = document.getElementById("score");
var remainingElement = document.getElementById("remaining");
var colors = ["today-yellow", "today-green", "today-red", "today-blue"];

// Get the current date in ISO format (YYYY-MM-DD)
var today = new Date().toISOString().slice(0, 10);

// Get the count for the current date
var count = countsByDate[today];
var score = 178 - count;

// Update the score element
scoreElement.innerHTML = score;

// Update the score element
remainingElement.innerHTML = count;

// Loop through the count
for (var i = 0; i < count; i++) {
  // Create the 'today' element and add it to the container as in the original code
  var todayElem = document.createElement("span");
  todayElem.innerHTML = "Today";
  todayElem.className = "today " + colors[Math.floor(Math.random() * 4)];
  todayElem.style.top = Math.floor(Math.random() * 500) + "px";
  todayElem.style.left = Math.floor(Math.random() * 1000) + "px";
  container.appendChild(todayElem);
}

container.addEventListener("click", function(event) {
  if (event.target.className.indexOf("today") > -1) {
    event.target.parentNode.removeChild(event.target);
    score++;
    scoreElement.innerHTML = score;
    remainingElement.innerHTML = 178 - score;

    // Check if the score is 178
    if (score === 178) {
      var celebration = document.createElement("div");
      celebration.innerHTML = "üëè Congratulations! The school year is complete! üéâ";
      celebration.className = "celebration";
      container.appendChild(celebration);
    }
  }
});

  </script>
</body>
</html>
